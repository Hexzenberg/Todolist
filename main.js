(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("header"),t=document.createElement("h1"),n=document.createElement("form"),a=document.createElement("input"),d=document.createElement("input"),s=document.getElementById("main"),c=document.createElement("section"),l=document.createElement("h2"),i=document.createElement("div");e.id="header",t.textContent="Tasks todo",n.id="new_task",a.type="text",a.id="new_task_input",a.placeholder="Enter a task",d.type="submit",d.id="new_task_submit",d.value="Add task",c.classList.add("task_list"),l.textContent="Tasks",i.id="tasks",n.appendChild(a),n.appendChild(d),e.appendChild(n),c.appendChild(l),c.appendChild(i),s.appendChild(c),function(){const e=document.querySelector("#new_task"),t=document.querySelector("#new_task_input"),n=document.querySelector("#tasks");function a(e){const t=document.createElement("div");t.classList.add("task");const n=document.createElement("div");n.classList.add("content");const a=document.createElement("input");a.classList.add("text"),a.type="text",a.value=e,a.readOnly=!0;const d=document.createElement("div");d.classList.add("action");const s=document.createElement("button");s.classList.add("edit"),s.innerText="Edit";const c=document.createElement("button");return c.classList.add("delete"),c.innerText="Delete",d.appendChild(s),d.appendChild(c),n.appendChild(a),t.appendChild(n),t.appendChild(d),t}function d(){const e=Array.from(n.children).map((e=>e.querySelector(".text").value));localStorage.setItem("tasks",JSON.stringify(e))}(JSON.parse(localStorage.getItem("tasks"))||[]).forEach((e=>{const t=a(e);n.appendChild(t)})),e.addEventListener("submit",(e=>{e.preventDefault();const s=t.value;if(!s)return void alert("Please enter a task!");const c=a(s);n.appendChild(c),d(),t.value=""})),n.addEventListener("click",(e=>{const t=e.target;if(t.classList.contains("edit")){const e=t.parentElement.parentElement.querySelector(".text");s=t,(a=e).readOnly=!a.readOnly,a.focus(),s.innerText=a.readOnly?"Edit":"Save",d()}else if(t.classList.contains("delete")){const e=t.parentElement.parentElement;n.removeChild(e),d()}var a,s}))}()}))})();